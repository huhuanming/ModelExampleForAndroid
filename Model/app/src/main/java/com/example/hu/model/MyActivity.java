package com.example.hu.model;import android.app.Activity;import android.os.Bundle;import android.view.Menu;import android.view.MenuItem;import android.widget.TextView;import com.google.gson.JsonElement;import java.lang.reflect.InvocationTargetException;import io.realm.Realm;import rx.Subscriber;import rx.android.schedulers.AndroidSchedulers;public class MyActivity extends Activity {    TextView textView;    Realm realm;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_my);        textView = (TextView)findViewById(R.id.text);        //移除数据库文件        Realm.deleteRealmFile(MyActivity.this);        realm = Realm.getInstance(ApplicationRunTime.getAppContext());       new Request().adapter().create(User.Action.class).login()                .observeOn(AndroidSchedulers.mainThread()).subscribe(new Subscriber<Object>() {            @Override            public void onCompleted() {                //显示数据                textView.setText(realm.where(User.class).findAll().toString());            }            @Override            public void onError(Throwable e) {            }            @Override            public void onNext(Object o) {                try {                    realm.beginTransaction();                    User user = (User)Request.toObject(Request.getPackageName("User"), (JsonElement)o,realm);                    realm.commitTransaction();                } catch (InvocationTargetException e) {                    e.printStackTrace();                } catch (NoSuchMethodException e) {                    e.printStackTrace();                } catch (ClassNotFoundException e) {                    e.printStackTrace();                } catch (IllegalAccessException e) {                    e.printStackTrace();                } catch (NoSuchFieldException e) {                    e.printStackTrace();                }            }        });    }    @Override    public boolean onCreateOptionsMenu(Menu menu) {        // Inflate the menu; this adds items to the action bar if it is present.        getMenuInflater().inflate(R.menu.my, menu);        return true;    }    @Override    public boolean onOptionsItemSelected(MenuItem item) {        // Handle action bar item clicks here. The action bar will        // automatically handle clicks on the Home/Up button, so long        // as you specify a parent activity in AndroidManifest.xml.        int id = item.getItemId();        //noinspection SimplifiableIfStatement        if (id == R.id.action_settings) {            return true;        }        return super.onOptionsItemSelected(item);    }}